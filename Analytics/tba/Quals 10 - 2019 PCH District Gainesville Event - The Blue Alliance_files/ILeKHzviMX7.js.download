if (self.CavalryLogger) { CavalryLogger.start_js(["uXejo"]); }

__d("createTooltipPortal",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReactDOM").createPortal(a,c)}e.exports=a}),null);
__d("Tooltip.react",["Arbiter","React","ReactDOM","SubscriptionsHandler","TooltipData","createTooltipPortal","ifRequired","killswitch"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state={visible:!1,wasEverVisible:!1},d.tooltipEl=b("React").createRef(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2.addSubscriptions(b("Arbiter").subscribe("tooltip/requesthide",function(c,d){c=d.context;a.state.visible&&(!c||c===a.tooltipEl.current)&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_interactiveUpdates(function(){a.setState({visible:!1})})})}),b("Arbiter").subscribe("tooltip/requestshow",function(c,d){c=d.context;!a.state.visible&&c===a.tooltipEl.current&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_interactiveUpdates(function(){a.setState({visible:!0,wasEverVisible:!0})})})}));this.$3()};d.componentDidUpdate=function(a,c){var d=this;c.visible!==this.state.visible&&(this.props.onVisibilityChange&&this.props.onVisibilityChange(this.state.visible),b("ifRequired")("Tooltip",function(a){d.state.visible?a.commitShow(d.tooltipEl.current):a.commitHide(d.tooltipEl.current)}));this.$3()};d.componentWillUnmount=function(){b("TooltipData").remove(b("ReactDOM").findDOMNode(this)),this.$2.release()};d.render=function(){__p&&__p();var a=this.props;a.alignH;a.children;a.delayMountUntilHover;a.display;a.position;var c=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignH","children","delayMountUntilHover","display","position","tooltip"]);var d=this.$4();return b("React").createElement(this.props.display==="block"?"div":"span",babelHelpers["extends"]({},a,{ref:this.tooltipEl,"data-hover":"tooltip","data-tooltip-content":typeof c==="string"?c:void 0}),d&&c!==null?b("createTooltipPortal")(c,this.$5()):null,this.props.children)};d.$4=function(){var a=this.props.delayMountUntilHover,b=this.state.wasEverVisible;return!a||b};d.$5=function(){this.$1==null&&(this.$1=document.createElement("div"));return this.$1};d.$3=function(){if(!this.$4())return;var a=b("ReactDOM").findDOMNode(this);if(!this.props.tooltip)b("TooltipData").remove(a);else{var c=this.props,d=c.alignH;c=c.position;b("TooltipData").set(a,this.$5(),c,d)}};return c}(b("React").Component);a.defaultProps={delayMountUntilHover:!b("killswitch")("TOOLTIP_DELAY_MOUNT_UNTIL_HOVER"),display:"inline"};e.exports=a}),null);
__d("FBCheckbox.react",["cx","Keys","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.disabled)return;d.props.onToggle&&d.props.onToggle(!d.props.checked)},d.$2=function(a){switch(a.keyCode){case b("Keys").SPACE:a.preventDefault();d.$1();break;default:break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="_kx6"+(this.props.checked?" _kx7":"")+(this.props.disabled?" _kx8":"")+(this.props.hovered?" _kx9":"")+(this.props.checked?"":" _kxa");return b("React").createElement("div",{"aria-checked":this.props.checked?"true":"false","aria-disabled":this.props.disabled?"true":"false",className:b("joinClasses")(a,this.props.className),onClick:this.$1,onKeyDown:this.$2,role:"checkbox",tabIndex:"0"})};return c}(b("React").Component);c.propTypes={checked:a.bool.isRequired,className:a.string,disabled:a.bool,hovered:a.bool,onToggle:a.func};e.exports=c}),null);
__d("AbstractTextField.react",["cx","Keys","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").Component;b("React").Element;c=b("React").PropTypes;d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.onInputKeyDown=function(a){var c=d.props,e=a.keyCode,f=a.shiftKey;e===b("Keys").BACKSPACE&&!f&&c.onBackspace?c.onBackspace(a):e===b("Keys").TAB&&!f&&c.onTab?c.onTab(a):e===b("Keys").TAB&&f&&c.onBackTab?c.onBackTab(a):e===b("Keys").UP?f?c.onShiftUpArrow&&c.onShiftUpArrow(a):c.onUpArrow&&c.onUpArrow(a):e===b("Keys").DOWN&&c.onDownArrow?f?c.onShiftDownArrow&&c.onShiftDownArrow(a):c.onDownArrow&&c.onDownArrow(a):e===b("Keys").LEFT&&c.onLeftArrow?c.onLeftArrow(a):e===b("Keys").RIGHT&&c.onRightArrow?c.onRightArrow(a):e===b("Keys").RETURN?(c.onEnter&&c.onEnter(a),f?c.onShiftEnter&&c.onShiftEnter(a):c.onNoShiftEnter&&c.onNoShiftEnter(a)):e===b("Keys").ESC&&c.onEscape?c.onEscape(a):e==b("Keys").COMMA&&c.onComma?c.onComma(a):e==b("Keys").SPACE&&c.onSpace&&c.onSpace(a);c.onKeyDown&&c.onKeyDown(a)};d.onInputChange=function(a){d.props.onChange&&d.props.onChange(a),(d.props.value===null||d.props.value===void 0)&&d.setState({value:a.target.value})};d.onInputBlur=function(a){d.props.onBlur&&d.props.onBlur(a),a.isDefaultPrevented()||d.setState({focused:!1})};d.onInputFocus=function(a){d.props.onFocus&&d.props.onFocus(a),a.isDefaultPrevented()||d.setState({focused:!0})};d.state={focused:!1,value:d.props.defaultValue||""};return d}var d=c.prototype;d.getValue=function(){return this.props.value!=null?String(this.props.value):this.state.value};d.getHint=function(){return this.props.hint!=null?String(this.props.hint):""};d.cloneElement=function(a){var c=this.getHint()?this.getHint():this.getValue();return b("React").cloneElement(a,{"aria-activedescendant":this.props["aria-activedescendant"],"aria-autocomplete":this.props["aria-autocomplete"],"aria-controls":this.props["aria-controls"],"aria-describedby":this.props["aria-describedby"],"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-multiline":this.props["aria-multiline"],"aria-expanded":this.props["aria-expanded"],"aria-valuenow":this.props["aria-valuenow"],"aria-valuetext":this.props["aria-valuetext"],"data-testid":this.props["data-testid"],required:this.props.required,role:this.props.role,placeholder:this.props.placeholder,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,autoFocus:this.props.autoFocus,onKeyDown:this.onInputKeyDown,onKeyUp:this.props.onKeyUp,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,onInput:this.props.onInput,onPaste:this.props.onPaste,onWheel:this.props.onWheel,className:this.props.useLabel?a.props.className:b("joinClasses")(a.props.className,this.props.className),dir:this.props.dir,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:c,id:this.props.id,maxLength:this.props.maxLength,min:this.props.min,max:this.props.max,pattern:this.props.pattern,style:this.props.style,title:this.props.title,type:this.props.type||a.props.type})};d.render=function(){var a=b("React").Children.only(this.props.children);if(!this.props.useLabel)return this.cloneElement(a);var c=this.props.className;this.props.classNames&&(c=b("joinClasses")(c,this.props.classNames.root),this.getValue()||(c=b("joinClasses")(c,this.props.classNames.empty)));return b("React").createElement("label",{className:c,style:this.props.styles.label},this.props.leftChild,this.cloneElement(a),this.props.rightChild)};return c}(a);d.defaultProps={useLabel:!0,classNames:{root:"_58ak",empty:"_3ct8"},styles:{label:null}};d.propTypes={useLabel:c.bool,leftChild:c.element,rightChild:c.element,classNames:c.shape({root:c.string.isRequired,empty:c.string.isRequired}),styles:c.shape({label:c.object}),"aria-activedescendant":c.string,"aria-autocomplete":c.string,"aria-controls":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.oneOf(["grammar","false","spelling","true"]),"aria-label":c.node,"aria-labelledby":c.string,"aria-multiline":c.bool,"aria-expanded":c.bool,"aria-valuenow":c.number,"aria-valuetext":c.string,"data-testid":c.string,autoComplete:c.string,autoFocus:c.bool,className:c.string,defaultValue:c.string,dir:c.string,disabled:c.bool,id:c.string,max:c.oneOfType([c.number,c.string]),maxLength:c.number,min:c.string,name:c.string,onBackspace:c.func,onBackTab:c.func,onBlur:c.func,onChange:c.func,onClick:c.func,onComma:c.func,onDownArrow:c.func,onEnter:c.func,onEscape:c.func,onFocus:c.func,onKeyDown:c.func,onKeyPress:c.func,onKeyUp:c.func,onLeftArrow:c.func,onNoShiftEnter:c.func,onPaste:c.func,onRightArrow:c.func,onShiftDownArrow:c.func,onShiftEnter:c.func,onShiftUpArrow:c.func,onSpace:c.func,onTab:c.func,onUpArrow:c.func,onWheel:c.func,pattern:c.string,placeholder:c.node,required:c.bool,role:c.string,style:c.object,tabIndex:c.number,title:c.string,type:c.string,value:c.string,autoCapitalize:c.string,autoCorrect:c.string};e.exports=d}),null);
__d("AbstractTextInput.react",["cx","AbstractTextField.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").Component;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").createElement(b("AbstractTextField.react"),this.props,b("React").createElement("input",{className:"_58al",onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onKeyUp:this.props.onKeyUp,onKeyDown:this.props.onKeyDown,onPaste:this.props.onPaste,size:this.props.size,tabIndex:this.props.tabIndex,type:this.props.type,ref:function(b){return a.$1=b}}))};d.focusInput=function(){this.$1&&this.$1.focus()};d.blurInput=function(){this.$1&&this.$1.blur()};d.selectInput=function(){this.$1&&this.$1.select()};d.getTextFieldDOM=function(){return this.$1};d.getValue=function(){return this.$1?this.$1.value:""};return c}(a);c.propTypes=b("AbstractTextField.react").propTypes;c.defaultProps={type:"text"};e.exports=c}),null);
__d("XUITextInput.react",["cx","AbstractTextInput.react","React","XUIError.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").Component;c=b("React").PropTypes;d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(a){c.props.onFocus&&c.props.onFocus(a),c.setState({focused:!0})};c.$2=function(a){c.props.onBlur&&c.props.onBlur(a),c.setState({focused:!1})};c.state={focused:!1};return c}var d=c.prototype;d.render=function(){var a="_55r1"+(this.props.height==="tall"?" _55r2":"")+(this.props.disabled?" _53a0":"")+(this.state.focused?" _1488":"");return b("React").createElement(b("XUIError.react"),this.props,b("React").createElement(b("AbstractTextInput.react"),babelHelpers["extends"]({},this.props,{onFocus:this.$1,onBlur:this.$2,ref:"textInput",className:b("joinClasses")(this.props.className,a)})))};d.focusInput=function(){this.refs.textInput&&this.refs.textInput.focusInput()};d.blurInput=function(){this.refs.textInput&&this.refs.textInput.blurInput()};d.selectInput=function(){this.refs.textInput&&this.refs.textInput.selectInput()};d.getValue=function(){return this.refs.textInput&&this.refs.textInput.getValue()};d.getTextFieldDOM=function(){return this.refs.textInput?this.refs.textInput.getTextFieldDOM():null};return c}(a);d.defaultProps={height:"short"};d.propTypes=babelHelpers["extends"]({},b("AbstractTextInput.react").propTypes,b("XUIError.react").propTypes,{height:c.oneOf(["short","tall"])});e.exports=d}),null);
__d("QESwitcherAddItem.react",["ix","cx","Grid.react","Image.react","React","XUIButton.react","XUITextInput.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={disabled:c.$1(c.props)},c.$2=function(){var a=c.props.qeItem,b=a.universe,d=a.experiment;a=a.group;c.setState({disabled:!0});c.props.onAdd({universe:b,experiment:d,group:a,selected:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.items!==this.props.items||a.qeItem!==this.props.qeItem){a=this.$1(a);a!==this.state.disabled&&this.setState({disabled:a})}};d.render=function(){var a=this;return b("React").createElement("section",{className:"_4cuh"},b("React").createElement("h2",{className:"_4cui"},"Create New"),b("React").createElement(b("Grid.react"),{cols:1,spacing:"pas",className:"_4cuj"},b("React").createElement(b("XUITextInput.react"),{value:this.props.qeItem.universe,placeholder:"Universe",onChange:function(b){return a.props.onChange("universe",b.target.value)}}),b("React").createElement(b("XUITextInput.react"),{value:this.props.qeItem.experiment,placeholder:"Experiment",onChange:function(b){return a.props.onChange("experiment",b.target.value)}}),b("React").createElement(b("XUITextInput.react"),{value:this.props.qeItem.group,placeholder:"Group",onChange:function(b){return a.props.onChange("group",b.target.value)}}),b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("141040")}),disabled:this.state.disabled,onClick:this.$2,label:"Add",use:"confirm"})))};d.$1=function(a){var b=!a.qeItem.universe||!a.qeItem.experiment,c=a.items.find(function(b){return b.universe===a.qeItem.universe&&b.experiment===a.qeItem.experiment&&b.group===a.qeItem.group});return b||c!==void 0};return c}(b("React").Component);e.exports=a}),null);
__d("QESwitcherList.react",["ix","cx","FBCheckbox.react","Image.react","React","ShimButton.react","Tooltip.react","XUIButton.react","XUICloseButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasChanged:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.items!=this.props.items&&this.setState({hasChanged:!0})};d.render=function(){var a=this;return b("React").createElement("section",{className:"_4cuh"},b("React").createElement("h2",{key:"title",className:"_4cui"},"Your Experiments"),b("React").createElement(i,{key:"list",items:this.props.items,usedUniverses:this.props.usedUniverses,onSelect:function(b,c){return a.props.onSelect(b,c)},onRemove:function(b){return a.props.onRemove(b)},onPillClick:function(b){return a.props.onPillClick(b)}}),b("React").createElement(b("XUIButton.react"),{key:"apply",disabled:!this.state.hasChanged,image:b("React").createElement(b("Image.react"),{src:g("376186")}),onClick:this.props.onApply,label:"Apply",use:"confirm"}),b("React").createElement(b("XUIButton.react"),{key:"reset",disabled:!this.state.hasChanged,image:b("React").createElement(b("Image.react"),{src:g("428216")}),onClick:this.props.onReset,label:"Reset",use:"default"}))};return c}(b("React").Component);var i=function(a){__p&&__p();var c=function(a,b){if(a.universe!==b.universe)return a.universe>b.universe?1:-1;if(a.experiment!==b.experiment)return a.experiment>b.experiment?1:-1;return a.group!==b.group?a.group>b.group?1:-1:0};return a.items.sort(c).map(function(c,d){var e=c.selected?!1:Object.prototype.hasOwnProperty.call(a.usedUniverses,c.universe)&&a.usedUniverses[c.universe]===!0;return b("React").createElement(j,{key:d,qeItem:c,disabled:e,onSelect:function(b){return a.onSelect(c,b)},onRemove:function(){return a.onRemove(c)},onPillClick:function(){return a.onPillClick(c)}})})},j=function(a){var c=b("React").createElement(b("FBCheckbox.react"),{disabled:a.disabled,checked:a.qeItem.selected,onToggle:a.onSelect});c=a.disabled?b("React").createElement(b("Tooltip.react"),{className:"_20-g",tooltip:"Disabled since you already selected an experiment from the same universe. Experiments are mutully exclusive under the same QE universe"},c):b("React").createElement("div",{className:"_20-g"},c);return b("React").createElement("div",{className:"_20-h"},c,b("React").createElement(b("ShimButton.react"),{role:"button",className:"_20-i"+(a.qeItem.selected?" selected":""),onClick:a.onPillClick},b("React").createElement("span",{className:"_20-j"},a.qeItem.universe),b("React").createElement("span",{className:"_20-j"},a.qeItem.experiment),a.qeItem.group&&b("React").createElement("span",{className:"_20-j"},a.qeItem.group)),b("React").createElement(b("XUICloseButton.react"),{className:"_3-9a",shade:"dark",size:"medium",onClick:a.onRemove}))};e.exports=a}),null);
__d("QESwitcher.react",["cx","QESwitcherAddItem.react","QESwitcherList.react","React","UserAgent","WebStorage","goURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="qe_switcher_nub_selection";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={items:[],usedUniverses:{},qeItemInProgress:{universe:"",experiment:"",group:"",selected:!1}},d.$5=function(a){return d.setState({qeItemInProgress:a})},d.$2=function(a,b){var c=d.state.items.map(function(c){return d.$8(c)===d.$8(a)?babelHelpers["extends"]({},c,{selected:b}):c}),e=babelHelpers["extends"]({},d.state.usedUniverses);b?e[a.universe]=!0:delete e[a.universe];d.setState({items:c,usedUniverses:e})},d.$3=function(a){var b;b=babelHelpers["extends"]({},d.state.usedUniverses,(b={},b[a.universe]=!1,b));d.setState({usedUniverses:b,items:d.state.items.filter(function(b){return d.$8(b)!=d.$8(a)})})},d.$1=function(){var a=b("WebStorage").getLocalStorageForRead();a=a?JSON.parse(a.getItem(h)||"[]"):[];var c=d.$9(),e={};a=a.map(function(a){var b=d.$8(a);b=c[b]===!0;b&&(e[a.universe]=!0);return babelHelpers["extends"]({},a,{selected:b,disabled:!1})});d.setState({items:a,usedUniverses:e})},d.$4=function(){__p&&__p();var a=new URLSearchParams(window.location.search);for(var c=d.state.items,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;g.selected&&!g.disabled&&a.set("qe["+g.universe+"]",g.experiment+":"+g.group)}d.$10();g=document.createElement("a");g.setAttribute("href",location.toString());g.search=a.toString();b("goURI")(g.href,!0)},d.$6=function(a){d.setState({items:[].concat(d.state.items,[babelHelpers["extends"]({},a)])})},d.$7=function(a,b){var c;d.setState({qeItemInProgress:babelHelpers["extends"]({},d.state.qeItemInProgress,(c={},c[a]=b,c))})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.render=function(){var a=this.state.items.length;return b("React").createElement("div",{className:"_2i_0"},a==0&&b("React").createElement("section",{className:"_2i_1"},'This nub can quickly help you test different QE groups that you\'re currently working on by automagically modifying the URL "qe" query param. ',b("React").createElement("br",null),"Worry not! All configurations you add here will be saved locally for future sessions."),a>0&&b("React").createElement(b("QESwitcherList.react"),{items:this.state.items,usedUniverses:this.state.usedUniverses,onSelect:this.$2,onRemove:this.$3,onApply:this.$4,onPillClick:this.$5,onReset:this.$1}),b("React").createElement(b("QESwitcherAddItem.react"),{onAdd:this.$6,onChange:this.$7,items:this.state.items,qeItem:this.state.qeItemInProgress}))};d.$9=function(){__p&&__p();if(b("UserAgent").isBrowser("IE")||b("UserAgent").isBrowser("Edge"))return{};var a=new URLSearchParams(window.location.search),c={},d=/qe\[(\w+)\]/;for(var a=a.entries(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=g[0]||"";g=g[1].split(":");if(h.startsWith("qe")){h=h.match(d);if(!h||h.length<2)continue;h={universe:h[1],experiment:g[0],group:g[1],selected:!0};c[this.$8(h)]=!0}}return c};d.$10=function(){var a=b("WebStorage").getLocalStorage();a&&a.setItem(h,JSON.stringify(this.state.items))};d.$8=function(a){var b=a.universe,c=a.experiment;a=a.group;return[b,c,a].join(">")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ServiceWorkerNub",["DOM","pageLoadedViaSWCache"],(function(a,b,c,d,e,f){a={addNub:function(a,c,d){b("DOM").setContent(a,b("pageLoadedViaSWCache")()?c:d)}};e.exports=a}),null);